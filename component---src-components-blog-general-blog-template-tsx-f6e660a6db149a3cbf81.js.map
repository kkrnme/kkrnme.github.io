{"version":3,"sources":["webpack:///./node_modules/gatsby-plugin-mdx/index.js","webpack:///./node_modules/core-js/modules/es6.reflect.construct.js","webpack:///./node_modules/gatsby-plugin-mdx/mdx-renderer.js","webpack:///./src/components/blog/general/blogArticleComponents.tsx","webpack:///./src/components/blog/tags/TagComponent.tsx","webpack:///./src/components/blog/BlogPostHead.tsx","webpack:///./src/components/blog/Notes.tsx","webpack:///./src/components/blog/PrevNextLink.tsx","webpack:///./src/components/blog/general/TableOfContents.tsx","webpack:///./src/hooks/onFirstRender.ts","webpack:///./src/components/templates/BlogPageWithTOC.tsx","webpack:///./src/components/blog/general/blogTemplate.tsx"],"names":["MDXRenderer","require","module","$export","create","aFunction","anObject","isObject","fails","bind","rConstruct","Reflect","construct","NEW_TARGET_BUG","F","ARGS_BUG","S","Target","args","newTarget","arguments","length","$args","push","apply","proto","prototype","instance","Object","result","Function","call","React","useMDXComponents","mdx","useMDXScope","scope","components","children","props","mdxComponents","mdxScope","End","fullScope","keys","values","key","fn","BlogArticleComponents","h1","className","h2","h3","h4","h5","h6","blockquote","p","a","includes","css","to","href","strong","ul","ol","code","delete","em","hr","img","TagComponent","TagLink","BlogPostHead","post","GeoPattern","generate","node","frontmatter","title","toDataUrl","tags","map","v","date","Note","color","icon","NoteFactory","Warn","faExclamationTriangle","faInfo","PrevNextLink","previous","next","undefined","enabled","path","PrevNextLinkButton","LinkOrSpan","PrevNextLinkButtonChildren","faChevronLeft","faChevronRight","TableOfContents","items","TOC","TOCItemConponent","i","SwipingAnchor","url","onFirstRender","cb","isFirstRef","useRef","useEffect","current","BlogPageWithTOC","BlogPage","BlogWrapper","BlogMain","visible","BlogTemplate","pageContext","tableOfContents","useState","isSmallerThanMd","setISTM","matchMedia","matches","addEventListener","description","excerpt","status","blogArticleComponents","body"],"mappings":"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","file":"component---src-components-blog-general-blog-template-tsx-f6e660a6db149a3cbf81.js","sourcesContent":["/**\n * Welcome to gatsby-plugin-mdx!\n *\n * Start reading in gatsby-node.js\n */\n\nconst MDXRenderer = require(`./mdx-renderer`)\n\nmodule.exports = {\n  MDXRenderer: MDXRenderer,\n}\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","const React = require(`react`)\nconst { useMDXComponents, mdx } = require(`@mdx-js/react`)\nconst { useMDXScope } = require(`./context`)\n\nmodule.exports = function MDXRenderer({\n  scope,\n  components,\n  children,\n  ...props\n}) {\n  const mdxComponents = useMDXComponents(components)\n  const mdxScope = useMDXScope(scope)\n\n  // Memoize the compiled component\n  const End = React.useMemo(() => {\n    if (!children) {\n      return null\n    }\n\n    const fullScope = {\n      // React is here just in case the user doesn't pass them in\n      // in a manual usage of the renderer\n      React,\n      mdx,\n      ...mdxScope,\n    }\n\n    const keys = Object.keys(fullScope)\n    const values = keys.map(key => fullScope[key])\n    const fn = new Function(`_fn`, ...keys, `${children}`)\n\n    return fn({}, ...values)\n  }, [children, scope])\n\n  return React.createElement(End, { components: mdxComponents, ...props })\n}\n","import { css } from \"@emotion/core\"\nimport { Components } from \"@mdx-js/react\"\nimport React from \"react\"\nimport SwipingAnchor from \"./SwipingAnchor\"\n\ntype Elm = JSX.IntrinsicElements\n\nexport const BlogArticleComponents /*: Required<Components>*/ = {\n  h1: (props: Elm[\"h1\"]) => (\n    <h1 className=\"border-b border-gray-600 text-150 mt-4 mb-2\" {...props}></h1>\n  ),\n  h2: (props: Elm[\"h2\"]) => (\n    <h2\n      className=\"border-b border-gray-600 font-medium text-120 px-1 pt-2 mt-2 mb-2\"\n      {...props}\n    />\n  ),\n  h3: (props: Elm[\"h3\"]) => <h3 {...props} />,\n  h4: (props: Elm[\"h4\"]) => <h4 {...props} />,\n  h5: (props: Elm[\"h5\"]) => <h5 {...props} />,\n  h6: (props: Elm[\"h6\"]) => <h6 {...props} />,\n  blockquote: (props: Elm[\"blockquote\"]) => <blockquote {...props} />,\n  p: (props: Elm[\"p\"]) => <p className=\"py-1 px-2\" {...props} />,\n  a: (props: Elm[\"a\"]) => {\n    return props.className?.includes(`header-autolink`) ? (\n      <a\n        {...props}\n        className=\"bg-monochrome-e rounded-full hover:bg-blue-400 transition mr-1\"\n        css={css`\n          svg {\n            display: inline;\n          }\n        `}\n      />\n    ) : (\n      <SwipingAnchor to={props.href!} {...props} />\n    )\n  },\n  strong: (props: Elm[\"strong\"]) => (\n    <strong className=\"text-gray-300\" {...props} />\n  ),\n  ul: (props: Elm[\"ul\"]) => (\n    <ul className=\"list-disc py-1 px-2 pl-8\" {...props} />\n  ),\n  ol: (props: Elm[\"ol\"]) => (\n    <ol className=\"list-decimal py-1 px-2 pl-8\" {...props}></ol>\n  ),\n  code: (props: Elm[\"code\"]) => <code {...props}></code>,\n  delete: (props: Elm[\"del\"]) => <del {...props} />,\n  em: (props: Elm[\"em\"]) => <em {...props} />,\n  hr: (props: Elm[\"hr\"]) => <hr className=\"my-3 border-gray-600\" {...props} />,\n  img: (props: Elm[\"img\"]) => <img {...props} />,\n}\n\nexport default BlogArticleComponents\n","import React, { ReactChild } from \"react\"\nimport { Stylable } from \"../../Components\"\nimport { Link } from \"gatsby\"\n\nexport const TagComponent: React.FC<TagComponentProps> = props => (\n  <label\n    className={`ml-2 px-2 rounded font-semibold tracking-none  text-gray-900 ${props.className}`}\n  >\n    {props.children}\n  </label>\n)\n\nexport const TagLink: React.FC<TagLinkProps> = props => (\n  <TagComponent className=\"bg-yellow-500\">\n    <Link to={\"/blog/tags/\" + props.children}>{props.children}</Link>\n  </TagComponent>\n)\n\nexport type TagComponentProps = Stylable & {\n  children: ReactChild\n}\n\nexport type TagLinkProps = TagComponentProps & { children: string }\n\nexport default TagComponent\n","import { css } from \"@emotion/core\"\nimport GeoPattern from \"geopattern\"\nimport React from \"react\"\nimport { MdxEdge } from \"../../../types/graphqlTypes\"\nimport { TagComponent, TagLink } from \"./tags/TagComponent\"\n\nexport const BlogPostHead: React.FC<BlogPostHeadProps> = ({ post }) => (\n  <div>\n    <div\n      css={css`\n        min-height: 7rem;\n        z-index: 0;\n        background-image: ${GeoPattern.generate(\n          post.node.frontmatter?.title!\n        ).toDataUrl()};\n        background-size: cover;\n        filter: saturate(180%);\n        content: \"\";\n        height: 100%;\n        width: 100%;\n        background-attachment: fixed;\n      `}\n    >\n      <h1 className=\"w-full text-white px-2 py-1 text-shadow\">\n        <span className=\"text-200\">{post.node.frontmatter?.title}</span>\n      </h1>\n    </div>\n    {post.node.frontmatter?.tags?.map(v => (\n      <TagLink key={v!}>{v!}</TagLink>\n    ))}\n    <TagComponent className=\"bg-teal-500\">\n      {post.node.frontmatter?.date}\n    </TagComponent>\n  </div>\n)\n\nexport type BlogPostHeadProps = {\n  post: MdxEdge\n}\n\nexport default BlogPostHead\n","import React, { FC } from \"react\"\nimport {\n  faInfo,\n  IconDefinition,\n  faExclamationTriangle,\n} from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\n\nexport interface NoteProps {\n  icon: IconDefinition\n  color?: string\n}\n\n/**\n * 背景色つきでいろいろな情報を書くとこ。i.e. Warn, Info\n */\nexport const Note: FC<NoteProps> = ({ color, icon, children }) => (\n  <div className={color + \" p-2 flex rounded\"}>\n    <div>\n      <FontAwesomeIcon icon={icon} />\n    </div>\n    {children}\n  </div>\n)\n\n/**\n * Note継承を新しく作る高階コンポーネント。\n * iconとcolorのtailwind stringを渡してみよう。\n */\nexport const NoteFactory: (args: {\n  icon: IconDefinition\n  color: string\n}) => FC = args => props => <Note {...args} {...props} />\n\nexport const Warn = NoteFactory({\n  icon: faExclamationTriangle,\n  color: \"bg-orange-400 text-gray-900\",\n})\n\nexport const Info = NoteFactory({\n  icon: faInfo,\n  color: \"bg-fluentBlue-10\",\n})\n","import { css } from \"@emotion/core\"\nimport {\n  faChevronLeft,\n  faChevronRight,\n} from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { Link } from \"gatsby\"\nimport React from \"react\"\nimport { MdxEdge } from \"../../../types/graphqlTypes\"\n\nexport const PrevNextLink = ({ post }: { post: MdxEdge }) => {\n  const previous = post.previous,\n    next = post.next\n  return (\n    <div className={`flex justify-between`} css={{}}>\n      {previous != undefined ? (\n        <PrevNextLinkButton\n          enabled\n          to={\"/blog/\" + previous.frontmatter?.path ?? \"path-not-found\"}\n        >\n          {previous.frontmatter?.title}\n        </PrevNextLinkButton>\n      ) : (\n        <PrevNextLinkButton enabled={false}>\n          ＊これ以上前の記録は見つからない。\n        </PrevNextLinkButton>\n      )}\n\n      {next != null ? (\n        <PrevNextLinkButton\n          enabled\n          to={\"/blog/\" + next.frontmatter?.path ?? \"/\"}\n        >\n          {next.frontmatter?.title}\n        </PrevNextLinkButton>\n      ) : (\n        <PrevNextLinkButton enabled={false}>\n          ＊記録はここで途切れている。\n        </PrevNextLinkButton>\n      )}\n    </div>\n  )\n}\n\nexport default PrevNextLink\n\ntype PrevNextLinkButtonProps =\n  | { enabled: true; to: string }\n  | { enabled: false }\n\nexport const PrevNextLinkButton: React.FC<PrevNextLinkButtonProps> = props => {\n  return (\n    <div\n      className={`transition w-1/2 backdrop-blur text-90 ${\n        props.enabled\n          ? \"bg-blue-900 hover:bg-blue-400 text-gray-300  hover:text-gray-900\"\n          : \"bg-gray-800 text-gray-400\"\n      }`}\n      css={css`\n        &:nth-of-type(odd) * div {\n          text-align: left;\n          svg.rightChevron {\n            display: none;\n          }\n        }\n        &:nth-of-type(even) * div {\n          text-align: right;\n          svg.leftChevron {\n            display: none;\n          }\n        }\n      `}\n    >\n      <LinkOrSpan {...props}>\n        <PrevNextLinkButtonChildren>\n          {props.children}\n        </PrevNextLinkButtonChildren>\n      </LinkOrSpan>\n    </div>\n  )\n}\n\nconst LinkOrSpan: React.FC<PrevNextLinkButtonProps> = props => {\n  return props.enabled ? (\n    <Link className=\"block py-2 px-3 h-full\" to={props.to}>\n      {props.children}\n    </Link>\n  ) : (\n    <span className=\"block py-2 px-3\">{props.children}</span>\n  )\n}\n\nconst PrevNextLinkButtonChildren: React.FC<{}> = props => {\n  return (\n    <div>\n      <FontAwesomeIcon icon={faChevronLeft} className=\"leftChevron mr-1\" />\n      <span>{props.children}</span>\n      <FontAwesomeIcon icon={faChevronRight} className=\"rightChevron ml-1\" />\n    </div>\n  )\n}\n","import { InterpolationWithTheme, css } from \"@emotion/core\"\nimport React from \"react\"\nimport SwipingAnchor from \"./SwipingAnchor\"\n\nexport const TableOfContents: React.FC<{\n  TOC: TOC\n  className?: string\n  css?: InterpolationWithTheme<any>\n}> = props => (\n  <nav\n    className={\n      \"text-90 bg-monochrome-2 border border-gray-700 rounded p-2  \" +\n        props.className ?? \"\"\n    }\n    css={css`\n      width: 235px;\n    `}\n  >\n    <TOCItemConponent items={props.TOC.items} />\n  </nav>\n)\n\nconst TOCItemConponent: React.FC<{ items: TOCItem[] }> = ({ items }) => (\n  <ul>\n    {items.map(i => (\n      <li key={i.title} className=\"ml-1\">\n        <SwipingAnchor to={i.url}>{i.title}</SwipingAnchor>\n        {i.items ? <TOCItemConponent items={i.items} /> : null}\n      </li>\n    ))}\n  </ul>\n)\n\nexport type TOC = { items: TOCItem[] }\n\nexport type TOCItem = { url: string; title: string; items?: TOCItem[] }\n","import { useRef, useEffect } from \"react\"\n\nexport const onFirstRender = (cb: Function) => {\n  const isFirstRef = useRef(true)\n  useEffect(() => {\n    if (isFirstRef.current) {\n      cb()\n      isFirstRef.current = false\n    }\n  })\n}\nexport default onFirstRender\n","import { Meta } from \"./templates\"\nimport { TOC, TableOfContents } from \"../blog/general/TableOfContents\"\nimport React from \"react\"\nimport { BlogMain } from \"./BlogMain\"\nimport { css } from \"@emotion/core\"\nimport { BlogPage } from \"./BlogPage\"\n\nexport const BlogPageWithTOC: React.FC<Meta & {\n  TOC: TOC\n  visible: boolean\n}> = props => (\n  <BlogPage\n    {...props}\n    BlogWrapper={({ children }) => (\n      <div className=\"block md:flex sm:my-2 my-0 justify-between\">\n        <BlogMain className={\"lg:ml-auto lg:mr-2 lg:max-w-768px\"}>\n          {children}\n        </BlogMain>\n        {!props.visible ? (\n          <TableOfContents\n            TOC={props.TOC}\n            className=\"mx-auto lg:mr-auto ml-2 h-full max-w-235px sticky\"\n            css={css`\n              top: 0.5rem;\n            `}\n          />\n        ) : null}\n      </div>\n    )}\n  ></BlogPage>\n)\n","import { MDXProvider } from \"@mdx-js/react\"\nimport { MDXRenderer } from \"gatsby-plugin-mdx\"\nimport React, { useState } from \"react\"\nimport { MdxEdge } from \"../../../../types/graphqlTypes\"\nimport BlogPostHead from \"../BlogPostHead\"\nimport { Warn } from \"../Notes\"\nimport PrevNextLink from \"../PrevNextLink\"\nimport blogArticleComponents from \"./blogArticleComponents\"\nimport { TableOfContents, TOC } from \"./TableOfContents\"\nimport { onFirstRender } from \"../../../hooks/onFirstRender\"\nimport { BlogPageWithTOC } from \"../../templates/BlogPageWithTOC\"\n\nexport const BlogTemplate = ({\n  pageContext,\n}: {\n  pageContext: { post: MdxEdge }\n}) => {\n  const { post } = pageContext,\n    node = post.node,\n    TOC: TOC = node.tableOfContents\n  const [isSmallerThanMd, setISTM] = useState(false)\n  onFirstRender(() => {\n    setISTM(matchMedia(\"(max-width: 1023px)\").matches)\n    addEventListener(\"resize\", () =>\n      setISTM(matchMedia(\"(max-width: 1023px)\").matches)\n    )\n  })\n  return (\n    <BlogPageWithTOC\n      title={`${node.frontmatter?.title}`}\n      description={node.frontmatter?.description ?? node.excerpt}\n      TOC={TOC}\n      visible={isSmallerThanMd}\n    >\n      <BlogPostHead post={post} />\n      <PrevNextLink post={post} />\n      <article className=\"p-3 md:p-5\">\n        {node.frontmatter?.status === \"draft\" ? (\n          <Warn>この記事は書きかけです。</Warn>\n        ) : null}\n        {isSmallerThanMd ? (\n          <TableOfContents TOC={TOC} className=\"my-1\" />\n        ) : null}\n        <MDXProvider components={blogArticleComponents}>\n          <MDXRenderer>{post.node.body}</MDXRenderer>\n        </MDXProvider>\n      </article>\n      <PrevNextLink post={post} />\n    </BlogPageWithTOC>\n  )\n}\n\nexport default BlogTemplate\n"],"sourceRoot":""}